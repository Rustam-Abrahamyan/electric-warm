(()=>{"use strict";const t=class{constructor(t,e,s){this.b=1.9*Math.random()+.1,this.x0=t,this.y0=e,this.a=2*Math.random()*Math.PI,this.x1=this.x0+s*Math.cos(this.a),this.y1=this.y0+s*Math.sin(this.a),this.l=s}update(t,e){this.x0=t,this.y0=e,this.a=Math.atan2(this.y1-this.y0,this.x1-this.x0),this.x1=this.x0+this.l*Math.cos(this.a),this.y1=this.y0+this.l*Math.sin(this.a)}},e=class{constructor(e,s,h,i,n,o,a){this.context=e,this.res="l"==a?i/2:i/o,this.type=a,this.l=i,this.segment=[],this.b=n,this.rand=Math.random(),this.segment.push(new t(s,h,this.l/this.res));for(let e=1;e<this.res;e++)this.segment.push(new t(this.segment[e-1].x1,this.segment[e-1].y1,this.l/this.res))}update(t){this.segment[0].update(t.x,t.y);for(let t=1;t<this.res;t++)this.segment[t].update(this.segment[t-1].x1,this.segment[t-1].y1)}show(){const t="hsl("+(60*this.rand+180)+",100%,"+(60*this.rand+30)+"%)";if("l"==this.type){this.context.beginPath();for(let t=0;t<this.segment.length;t++)this.context.lineTo(this.segment[t].x0,this.segment[t].y0);this.context.lineTo(this.segment[this.segment.length-1].x1,this.segment[this.segment.length-1].y1),this.context.strokeStyle=t,this.context.lineWidth=this.b,this.context.stroke(),this.context.beginPath(),this.context.arc(this.segment[0].x0,this.segment[0].y0,1,0,2*Math.PI),this.context.fillStyle=t,this.context.fill(),this.context.beginPath(),this.context.arc(this.segment[this.segment.length-1].x1,this.segment[this.segment.length-1].y1,2,0,2*Math.PI),this.context.fillStyle=t,this.context.fill()}else{for(let e=0;e<this.segment.length;e++)this.context.beginPath(),this.context.arc(this.segment[e].x0,this.segment[e].y0,this.segment[e].b,0,2*Math.PI),this.context.fillStyle=t,this.context.fill();this.context.beginPath(),this.context.arc(this.segment[this.segment.length-1].x1,this.segment[this.segment.length-1].y1,2,0,2*Math.PI),this.context.fillStyle=t,this.context.fill()}}};window.onload=()=>{const t=document.getElementById("canvas"),s=t.getContext("2d");t.width=window.innerWidth,t.height=window.innerHeight,s.fillRect(0,0,t.width,t.height);const h={x:!1,y:!1},i=[],n=[],o={x:t.width/2,y:t.height/2},a=[];let l=0;for(let h=0;h<100;h++){const h=Math.random()>.25?"l":"o";i.push(new e(s,t.width/2,t.height/2,520*(1*Math.random()+.5),.4*Math.random()+.1,15*Math.random()+5,h)),n.push(2*Math.random()-1),a.push(0)}const g=()=>{var e;e=g,(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)})(e),s.clearRect(0,0,t.width,t.height),(()=>{const{width:e,height:s}=t;let g,m;h.x?(g=h.x-o.x,m=h.y-o.y):(g=e/2+(s/2-10)*Math.sqrt(2)*Math.cos(l)/(Math.pow(Math.sin(l),2)+1)-o.x,m=s/2+(s/2-10)*Math.sqrt(2)*Math.cos(l)*Math.sin(l)/(Math.pow(Math.sin(l),2)+1)-o.y),o.x+=g/10,o.y+=m/10,l+=.01;for(let t=0;t<i.length;t++)n[t]>0?a[t]+=(1-n[t])/10:a[t]+=(-1-n[t])/10,i[t].update({x:o.x+50*n[t]*Math.cos(2*t*Math.PI/i.length+a[t]),y:o.y+50*n[t]*Math.sin(2*t*Math.PI/i.length+a[t])}),i[t].show()})()};t.addEventListener("mousemove",(e=>{h.x=e.pageX-t.offsetLeft,h.y=e.pageY-t.offsetTop}),!1),t.addEventListener("mouseleave",(()=>{h.x=!1,h.y=!1})),window.addEventListener("resize",(()=>{t.width,window.innerWidth,t.height,window.innerHeight})),g()}})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TzhCLGlCQUFpQixVQUFVLEtBQzlCNUIsRUFBT0ksTUFBUU4sT0FBT08sV0FDdEJMLEVBQU9NLE9BQVNSLE9BQU9TLFdBQVcsSUFHdENPLEdBQVMsQyIsInNvdXJjZXMiOlsid2VicGFjazovL2VsZWN0cmljLXNwaWRlci8uL3NyYy9zZWdtZW50LmpzIiwid2VicGFjazovL2VsZWN0cmljLXNwaWRlci8uL3NyYy9yb3BlLmpzIiwid2VicGFjazovL2VsZWN0cmljLXNwaWRlci8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9lbGVjdHJpYy1zcGlkZXIvLi9zcmMvdXRpbHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgU2VnbWVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4LCB5LCBsKSB7XHJcbiAgICAgICAgdGhpcy5iID0gTWF0aC5yYW5kb20oKSAqIDEuOSArIDAuMTtcclxuICAgICAgICB0aGlzLngwID0geDtcclxuICAgICAgICB0aGlzLnkwID0geTtcclxuICAgICAgICB0aGlzLmEgPSBNYXRoLnJhbmRvbSgpICogMiAqIE1hdGguUEk7XHJcbiAgICAgICAgdGhpcy54MSA9IHRoaXMueDAgKyBsICogTWF0aC5jb3ModGhpcy5hKTtcclxuICAgICAgICB0aGlzLnkxID0gdGhpcy55MCArIGwgKiBNYXRoLnNpbih0aGlzLmEpO1xyXG4gICAgICAgIHRoaXMubCA9IGw7XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKHgsIHkpIHtcclxuICAgICAgICB0aGlzLngwID0geDtcclxuICAgICAgICB0aGlzLnkwID0geTtcclxuICAgICAgICB0aGlzLmEgPSBNYXRoLmF0YW4yKHRoaXMueTEgLSB0aGlzLnkwLCB0aGlzLngxIC0gdGhpcy54MCk7XHJcbiAgICAgICAgdGhpcy54MSA9IHRoaXMueDAgKyB0aGlzLmwgKiBNYXRoLmNvcyh0aGlzLmEpO1xyXG4gICAgICAgIHRoaXMueTEgPSB0aGlzLnkwICsgdGhpcy5sICogTWF0aC5zaW4odGhpcy5hKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2VnbWVudDsiLCJpbXBvcnQgU2VnbWVudCBmcm9tIFwiLi9zZWdtZW50XCI7XHJcblxyXG5jbGFzcyBSb3BlIHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbnRleHQsIHR4LCB0eSwgbCwgYiwgc2xxLCB0eXBlKSB7XHJcbiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcclxuICAgICAgICB0aGlzLnJlcyA9IHR5cGUgPT0gXCJsXCIgPyBsIC8gMiA6IGwgLyBzbHE7XHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcclxuICAgICAgICB0aGlzLmwgPSBsO1xyXG4gICAgICAgIHRoaXMuc2VnbWVudCA9IFtdO1xyXG4gICAgICAgIHRoaXMuYiA9IGI7XHJcbiAgICAgICAgdGhpcy5yYW5kID0gTWF0aC5yYW5kb20oKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZWdtZW50LnB1c2gobmV3IFNlZ21lbnQodHgsIHR5LCB0aGlzLmwgLyB0aGlzLnJlcykpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMucmVzOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5zZWdtZW50LnB1c2gobmV3IFNlZ21lbnQodGhpcy5zZWdtZW50W2kgLSAxXS54MSwgdGhpcy5zZWdtZW50W2kgLSAxXS55MSwgdGhpcy5sIC8gdGhpcy5yZXMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdXBkYXRlKHQpIHtcclxuICAgICAgICB0aGlzLnNlZ21lbnRbMF0udXBkYXRlKHQueCwgdC55KTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLnJlczsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VnbWVudFtpXS51cGRhdGUodGhpcy5zZWdtZW50W2kgLSAxXS54MSwgdGhpcy5zZWdtZW50W2kgLSAxXS55MSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNob3coKSB7XHJcbiAgICAgICAgY29uc3QgY29sb3IgPSBcImhzbChcIiArICh0aGlzLnJhbmQgKiA2MCArIDE4MCkgKyBcIiwxMDAlLFwiICsgKHRoaXMucmFuZCAqIDYwICsgMzApICsgXCIlKVwiO1xyXG5cclxuICAgICAgICBpZiAodGhpcy50eXBlID09IFwibFwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5iZWdpblBhdGgoKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5zZWdtZW50Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQubGluZVRvKHRoaXMuc2VnbWVudFtpXS54MCwgdGhpcy5zZWdtZW50W2ldLnkwKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmxpbmVUbyh0aGlzLnNlZ21lbnRbdGhpcy5zZWdtZW50Lmxlbmd0aCAtIDFdLngxLCB0aGlzLnNlZ21lbnRbdGhpcy5zZWdtZW50Lmxlbmd0aCAtIDFdLnkxKTtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LnN0cm9rZVN0eWxlID0gY29sb3I7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5saW5lV2lkdGggPSB0aGlzLmI7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgdGhpcy5jb250ZXh0LmFyYyh0aGlzLnNlZ21lbnRbMF0ueDAsIHRoaXMuc2VnbWVudFswXS55MCwgMSwgMCwgMiAqIE1hdGguUEkpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gY29sb3I7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsKCk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5hcmModGhpcy5zZWdtZW50W3RoaXMuc2VnbWVudC5sZW5ndGggLSAxXS54MSwgdGhpcy5zZWdtZW50W3RoaXMuc2VnbWVudC5sZW5ndGggLSAxXS55MSwgMiwgMCwgMiAqIE1hdGguUEkpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gY29sb3I7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlZ21lbnQubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dC5hcmModGhpcy5zZWdtZW50W2ldLngwLCB0aGlzLnNlZ21lbnRbaV0ueTAsIHRoaXMuc2VnbWVudFtpXS5iLCAwLCAyICogTWF0aC5QSSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gY29sb3I7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbCgpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5hcmModGhpcy5zZWdtZW50W3RoaXMuc2VnbWVudC5sZW5ndGggLSAxXS54MSwgdGhpcy5zZWdtZW50W3RoaXMuc2VnbWVudC5sZW5ndGggLSAxXS55MSwgMiwgMCwgMiAqIE1hdGguUEkpO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuZmlsbFN0eWxlID0gY29sb3I7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGV4dC5maWxsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBSb3BlO1xyXG4iLCJpbXBvcnQgUm9wZSBmcm9tIFwiLi9yb3BlXCI7XHJcbmltcG9ydCB7IHJlcXVlc3RBbmltYXRpb25GcmFtZSB9IGZyb20gXCIuL3V0aWxzXCI7XHJcblxyXG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xyXG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIik7XHJcbiAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuXHJcbiAgICBjYW52YXMud2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcclxuICAgIGNhbnZhcy5oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XHJcblxyXG4gICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG5cclxuICAgIGNvbnN0IG1vdXNlID0geyB4OiBmYWxzZSwgeTogZmFsc2UgfTtcclxuXHJcbiAgICBjb25zdCByb3BlcyA9IFtdO1xyXG5cclxuICAgIGNvbnN0IHJsID0gNTA7XHJcbiAgICBjb25zdCByYW5kID0gW107XHJcbiAgICBjb25zdCB0YXJnZXQgPSB7IHg6IGNhbnZhcy53aWR0aCAvIDIsIHk6IGNhbnZhcy5oZWlnaHQgLyAyIH07XHJcbiAgICBjb25zdCBxID0gMTA7XHJcbiAgICBjb25zdCBkID0gW107XHJcblxyXG4gICAgbGV0IHQgPSAwO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcclxuICAgICAgICBjb25zdCB0eXBlID0gTWF0aC5yYW5kb20oKSA+IDAuMjUgPyBcImxcIiA6IFwib1wiO1xyXG5cclxuICAgICAgICByb3Blcy5wdXNoKFxyXG4gICAgICAgICAgICBuZXcgUm9wZShcclxuICAgICAgICAgICAgICAgIGNvbnRleHQsXHJcbiAgICAgICAgICAgICAgICBjYW52YXMud2lkdGggLyAyLFxyXG4gICAgICAgICAgICAgICAgY2FudmFzLmhlaWdodCAvIDIsXHJcbiAgICAgICAgICAgICAgICAoTWF0aC5yYW5kb20oKSAqIDEgKyAwLjUpICogNTIwLFxyXG4gICAgICAgICAgICAgICAgTWF0aC5yYW5kb20oKSAqIDAuNCArIDAuMSxcclxuICAgICAgICAgICAgICAgIE1hdGgucmFuZG9tKCkgKiAxNSArIDUsXHJcbiAgICAgICAgICAgICAgICB0eXBlXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApO1xyXG5cclxuICAgICAgICByYW5kLnB1c2goTWF0aC5yYW5kb20oKSAqIDIgLSAxKTtcclxuXHJcbiAgICAgICAgZC5wdXNoKDApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRyYXcgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBjYW52YXM7XHJcbiAgICAgICAgbGV0IHRhcmdldFgsIHRhcmdldFk7XHJcblxyXG4gICAgICAgIGlmIChtb3VzZS54KSB7XHJcbiAgICAgICAgICAgIHRhcmdldFggPSBtb3VzZS54IC0gdGFyZ2V0Lng7XHJcbiAgICAgICAgICAgIHRhcmdldFkgPSBtb3VzZS55IC0gdGFyZ2V0Lnk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGFyZ2V0WCA9IHdpZHRoIC8gMiArICgoaGVpZ2h0IC8gMiAtIHEpICogTWF0aC5zcXJ0KDIpICogTWF0aC5jb3ModCkpIC8gKE1hdGgucG93KE1hdGguc2luKHQpLCAyKSArIDEpIC0gdGFyZ2V0Lng7XHJcbiAgICAgICAgICAgIHRhcmdldFkgPVxyXG4gICAgICAgICAgICAgICAgaGVpZ2h0IC8gMiArXHJcbiAgICAgICAgICAgICAgICAoKGhlaWdodCAvIDIgLSBxKSAqIE1hdGguc3FydCgyKSAqIE1hdGguY29zKHQpICogTWF0aC5zaW4odCkpIC8gKE1hdGgucG93KE1hdGguc2luKHQpLCAyKSArIDEpIC1cclxuICAgICAgICAgICAgICAgIHRhcmdldC55O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGFyZ2V0LnggKz0gdGFyZ2V0WCAvIDEwO1xyXG4gICAgICAgIHRhcmdldC55ICs9IHRhcmdldFkgLyAxMDtcclxuXHJcbiAgICAgICAgdCArPSAwLjAxO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvcGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChyYW5kW2ldID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZFtpXSArPSAoMSAtIHJhbmRbaV0pIC8gMTA7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkW2ldICs9ICgtMSAtIHJhbmRbaV0pIC8gMTA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJvcGVzW2ldLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgICAgICB4OiB0YXJnZXQueCArIHJhbmRbaV0gKiBybCAqIE1hdGguY29zKChpICogMiAqIE1hdGguUEkpIC8gcm9wZXMubGVuZ3RoICsgZFtpXSksXHJcbiAgICAgICAgICAgICAgICB5OiB0YXJnZXQueSArIHJhbmRbaV0gKiBybCAqIE1hdGguc2luKChpICogMiAqIE1hdGguUEkpIC8gcm9wZXMubGVuZ3RoICsgZFtpXSksXHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcm9wZXNbaV0uc2hvdygpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgYW5pbWF0ZSA9ICgpID0+IHtcclxuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYW5pbWF0ZSk7XHJcblxyXG4gICAgICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcblxyXG4gICAgICAgIGRyYXcoKTtcclxuICAgIH07XHJcblxyXG4gICAgY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXHJcbiAgICAgICAgXCJtb3VzZW1vdmVcIixcclxuICAgICAgICAoZSkgPT4ge1xyXG4gICAgICAgICAgICBtb3VzZS54ID0gZS5wYWdlWCAtIGNhbnZhcy5vZmZzZXRMZWZ0O1xyXG4gICAgICAgICAgICBtb3VzZS55ID0gZS5wYWdlWSAtIGNhbnZhcy5vZmZzZXRUb3A7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBmYWxzZVxyXG4gICAgKTtcclxuXHJcbiAgICBjYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgKCkgPT4ge1xyXG4gICAgICAgIG1vdXNlLnggPSBmYWxzZTtcclxuICAgICAgICBtb3VzZS55ID0gZmFsc2U7XHJcbiAgICB9KTtcclxuXHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCAoKSA9PiB7XHJcbiAgICAgICAgY2FudmFzLndpZHRoIC0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICAgICAgY2FudmFzLmhlaWdodCAtIHdpbmRvdy5pbm5lckhlaWdodDtcclxuICAgIH0pO1xyXG5cclxuICAgIGFuaW1hdGUoKTtcclxufTtcclxuIiwiZXhwb3J0IGNvbnN0IHJlcXVlc3RBbmltYXRpb25GcmFtZSA9IChjYWxsYmFjaykgPT4ge1xyXG4gICAgY29uc3QgZnBzID0gNjA7XHJcbiAgICBjb25zdCByZXF1ZXN0QW5pbWF0aW9uRnJhbWVGbiA9XHJcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxyXG4gICAgICAgIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcclxuICAgICAgICB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XHJcbiAgICAgICAgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGYpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZiwgMTAwMCAvIGZwcyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lRm4oY2FsbGJhY2spO1xyXG59OyJdLCJuYW1lcyI6WyJjb25zdHJ1Y3RvciIsIngiLCJ5IiwibCIsInRoaXMiLCJiIiwiTWF0aCIsInJhbmRvbSIsIngwIiwieTAiLCJhIiwiUEkiLCJ4MSIsImNvcyIsInkxIiwic2luIiwidXBkYXRlIiwiYXRhbjIiLCJjb250ZXh0IiwidHgiLCJ0eSIsInNscSIsInR5cGUiLCJyZXMiLCJzZWdtZW50IiwicmFuZCIsInB1c2giLCJTZWdtZW50IiwiaSIsInQiLCJzaG93IiwiY29sb3IiLCJiZWdpblBhdGgiLCJsZW5ndGgiLCJsaW5lVG8iLCJzdHJva2VTdHlsZSIsImxpbmVXaWR0aCIsInN0cm9rZSIsImFyYyIsImZpbGxTdHlsZSIsImZpbGwiLCJ3aW5kb3ciLCJvbmxvYWQiLCJjYW52YXMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0Q29udGV4dCIsIndpZHRoIiwiaW5uZXJXaWR0aCIsImhlaWdodCIsImlubmVySGVpZ2h0IiwiZmlsbFJlY3QiLCJtb3VzZSIsInJvcGVzIiwidGFyZ2V0IiwiZCIsIlJvcGUiLCJhbmltYXRlIiwiY2FsbGJhY2siLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtc1JlcXVlc3RBbmltYXRpb25GcmFtZSIsImYiLCJzZXRUaW1lb3V0IiwiY2xlYXJSZWN0IiwidGFyZ2V0WCIsInRhcmdldFkiLCJzcXJ0IiwicG93IiwiZHJhdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicGFnZVgiLCJvZmZzZXRMZWZ0IiwicGFnZVkiLCJvZmZzZXRUb3AiXSwic291cmNlUm9vdCI6IiJ9